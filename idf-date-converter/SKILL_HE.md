# ממיר תאריכים עברי-לועזי

## הוראות

### שלב 1: זיהוי הבקשה
| בקשה | פעולה |
|------|-------|
| המרת תאריך ספציפי | המרה מלועזי לעברי או מעברי ללועזי |
| מתי חל חג X? | חיפוש חג בלוח העברי |
| פורמט למסמך | מחרוזת תאריך כפולה בעברית + לועזית |
| ימי עסקים | ספירה ללא שבתות + חגים |
| זמני שבת | הדלקת נרות / הבדלה לפי עיר |

### שלב 2: המרת תאריכים
השתמשו בהמרה עם Python:

```python
# Using pyluach library
from pyluach import dates, hebrewcal

# Gregorian to Hebrew
greg_date = dates.GregorianDate(2026, 2, 24)
heb_date = greg_date.to_heb()
print(f"{heb_date.day} {heb_date.month_name()} {heb_date.year}")

# Hebrew to Gregorian
heb_date = dates.HebrewDate(5786, 6, 26)  # 26 Adar 5786
greg_date = heb_date.to_greg()
print(f"{greg_date.day}/{greg_date.month}/{greg_date.year}")
```

### שלב 3: עיצוב מספרים עבריים (גימטריה)
תאריכים עבריים משתמשים בגימטריה (מערכת אותיות-מספרים):
- אחדות: א=1, ב=2, ג=3, ... ט=9
- עשרות: י=10, כ=20, ל=30, ... צ=90
- מאות: ק=100, ר=200, ש=300, ת=400
- מקרים מיוחדים: 15 = ט״ו (לא י״ה), 16 = ט״ז (לא י״ו)
- שנה: משמיטים את האלפים (5786 נכתב תשפ״ו = 786)

### שלב 4: פורמט תאריך כפול
למסמכים ישראליים:
```
24 February 2026 / כ״ו באדר א׳ תשפ״ו
```

### שלב 5: ימי עסקים ישראליים
שבוע העבודה הישראלי: יום ראשון עד יום חמישי (חלקם עובדים חצי יום שישי)
ימים שאינם ימי עבודה:
- כל שבת (מכניסת השבת ביום שישי ועד מוצאי שבת)
- כל החגים העיקריים (ראו טבלת חגים)
- ימי בחירות (כאשר רלוונטי)

```python
def is_israeli_business_day(greg_date):
    """Check if a date is an Israeli business day."""
    # Saturday = 5 in Python's weekday() (0=Monday)
    if greg_date.weekday() == 5:  # Saturday
        return False
    # Check if it's a holiday
    heb = dates.GregorianDate(greg_date.year, greg_date.month, greg_date.day).to_heb()
    # Check against holiday list
    return not is_israeli_holiday(heb)
```

### חגים ישראליים (תאריכים קבועים בלוח העברי)
| חג | תאריך עברי | תאריך לועזי 2026 (בקירוב) |
|----|-----------|--------------------------|
| ראש השנה | א׳-ב׳ תשרי | 12-13 בספטמבר |
| יום כיפור | י׳ תשרי | 21 בספטמבר |
| סוכות | ט״ו-כ״א תשרי | 26 בספטמבר - 2 באוקטובר |
| שמחת תורה | כ״ב תשרי | 3 באוקטובר |
| חנוכה | כ״ה כסלו - ב׳ טבת | 5-12 בדצמבר |
| פורים | י״ד אדר | 17 במרץ |
| פסח | ט״ו-כ״א ניסן | 2-8 באפריל |
| יום השואה | כ״ז ניסן | 14 באפריל |
| יום הזיכרון | ד׳ אייר | 21 באפריל |
| יום העצמאות | ה׳ אייר | 22 באפריל |
| שבועות | ו׳ סיוון | 22 במאי |

## דוגמאות

### דוגמה 1: המרה פשוטה
המשתמש אומר: "מה התאריך העברי היום?"
תוצאה: "24 בפברואר 2026 = כ״ו באדר א׳ תשפ״ו"

### דוגמה 2: חיפוש חג
המשתמש אומר: "מתי פסח 2026?"
תוצאה: "פסח מתחיל בערב 1 באפריל 2026 (ט״ו בניסן תשפ״ו). ליל הסדר הראשון: 1 באפריל. יום אחרון: 8 באפריל."

### דוגמה 3: ימי עסקים
המשתמש אומר: "כמה ימי עסקים יש בין 1 למרץ ל-31 במרץ 2026?"
תוצאה: ספירה ללא שבתות, עם ציון אם חגים חלים בטווח (פורים ב-17 במרץ).

## משאבים מצורפים

### סקריפטים
- `scripts/convert_date.py` — ממיר בין הלוח העברי ללועזי, מעצב תאריכים כפולים למסמכים ישראליים, מציג רשימת חגים ישראליים לכל שנה, וסופר ימי עסקים ישראליים בין טווחי תאריכים (ללא שבתות וחגים). דורש ספריית `pyluach`. הרצה: `python scripts/convert_date.py --help`

### חומרי עזר
- `references/hebrew-calendar-reference.md` — מדריך מקיף ללוח העברי הכולל שמות חודשים ואורכם המשתנה, מחזור המטון בן 19 שנים לשנים מעוברות, טבלת המרת גימטריה עם מקרים מיוחדים, לוח חגים ישראלי עם ימי חופשה מלאה מול סגירה חלקית, וספריות Python מומלצות (pyluach, hebcal). עיינו בו בעת טיפול במקרי קצה של שנים מעוברות, עיצוב מספרים עבריים, או קביעה אילו חגים משפיעים על חישובי ימי עסקים.

## פתרון בעיות

### שגיאה: "Incorrect Hebrew date"
סיבה: אורך החודשים העבריים משתנה; חודשים בשנה מעוברת עלולים לבלבל
פתרון: אמתו מול hebcal.com. אדר א׳/ב׳ קיימים רק בשנים מעוברות. סטטוס השנה הנוכחית (תשפ״ו) כשנה מעוברת משפיע על התאריכים.
